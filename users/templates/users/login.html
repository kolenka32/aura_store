{% extends 'products/base.html' %}

{% block content %}
<style>
    .minimal-input {
        border: 1px solid #d1d5db;
        border-radius: 3px;
        transition: all 0.2s ease;
        padding: 0.75rem 1rem;
    }
    .minimal-input:focus {
        border-color: #000;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);
        outline: none;
    }
    .error-message {
        color: #dc2626;
        font-size: 0.875rem;
        margin-top: 0.25rem;
        display: flex;
        align-items: center;
        gap: 0.25rem;
        justify-content: center;
    }
    .error-icon {
        width: 1rem;
        height: 1rem;
        flex-shrink: 0;
    }
</style>

<div class="bg-white">
    <div class="min-h-screen flex flex-col items-center justify-center p-6">
        <!-- Заголовок -->
        <div class="mb-10 text-center">
            <h1 class="text-3xl font-light text-black tracking-tight mb-2">АВТОРИЗАЦИЯ</h1>
            <p class="text-gray-500 text-sm">ВХОД В СИСТЕМУ</p>
        </div>

        <!-- Форма -->
        <form method="POST" class="w-full max-w-sm space-y-8" action="{% url 'users:login' %}">
            {% csrf_token %}

            <!-- Поля ввода -->
            <div class="space-y-6">
                <div class="space-y-1">
                    <label class="block text-sm text-gray-700 mb-2">
                        Email
                    </label>
                    <input
                        type="email"
                        name="username"
                        required
                        class="w-full minimal-input"
                        placeholder="Ваш email"
                        autocomplete="email"
                        autofocus
                        {% if form.username.value %}
                            value="{{ form.username.value }}"
                        {% endif %}
                    >
                </div>

                <div class="space-y-1">
                    <label class="block text-sm text-gray-700 mb-2">
                        Пароль
                    </label>
                    <input
                        type="password"
                        name="password"
                        required
                        class="w-full minimal-input"
                        placeholder="Пароль"
                        autocomplete="current-password"
                    >
                </div>
            </div>

            <!-- Ошибки -->
            {% if form.errors %}
            <div class="p-4 border border-red-300 bg-red-50 rounded">
                <div class="flex items-start">
                    <svg class="w-5 h-5 text-red-500 mt-0.5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.342 16.5c-.77.833.192 2.5 1.732 2.5z" />
                    </svg>
                    <div>
                        <p class="text-red-800 font-medium text-sm mb-1">Ошибка авторизации</p>
                        <p class="text-red-700 text-sm">Неверный email или пароль</p>
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- Кнопка -->
            <button
                type="submit"
                class="w-full py-3 bg-black text-white font-normal hover:bg-gray-800 transition-colors text-base"
            >
                Войти в систему
            </button>

            <!-- Регистрация -->
            <div class="text-center pt-6 border-t border-gray-100">
                <p class="text-sm text-gray-600">
                    Нет аккаунта?
                    <a href="{% url 'users:register' %}" class="text-black hover:text-gray-800 transition-colors ml-1 border-b border-gray-300 hover:border-black font-medium">
                        Зарегистрироваться
                    </a>
                </p>
            </div>
        </form>

        <!-- Футер -->
        <div class="mt-10 text-center">
            <p class="text-xs text-gray-400">v2.0</p>
        </div>
    </div>
</div>
{% endblock %}